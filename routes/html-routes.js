var path = require("path");

var isAuthenticated = require("../config/middleware/isAuthenticated");

module.exports = function(app, db) {
    app.get("/", function(req, res) {
        if(req.user) {
            res.redirect('/profiles')
        }else {
       res.sendFile(path.join(__dirname, "../views/index.html"));
        }
    });

    app.get("/signup", function(req, res) {
        if(req.user) {
            res.redirect('/profiles');
        }else {
        res.sendFile(path.join(__dirname, "../views/userCreate.html"));
        }
    });

    app.get("/profiles", /*isAuthenticated,*/ function (req, res) {
        res.sendFile(path.join(__dirname, "../views/profiles.html"));
    });

    app.get("/login", function(req, res) {
        res.sendFile(path.join(__dirname, "../views/login.html"));      
    });

    app.get("/api/signup", function(req, res) {
        res.render("userCreate");
    });
    // app.get("/login", function(req, res) {
    //     if(req.user) {
    //         res.redirect("/profiles")
    //     }
    // });

    // app.get("/profiles", isAuthenticated, function(req, res) {
    //     res.redirect("/profiles");
    // });
};